(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(e,t,n){e.exports=n(407)},393:function(e,t){},395:function(e,t){},407:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(18),c=n.n(r),i=n(23),l=n(24),s=n(26),u=n(25),p=n(27),d=n(19),h=n(241),m=function(){return function(e){h.get("http://localhost/phonebook").then(function(e){return e.data}).then(function(t){return e({type:"ACTION_GET",payload:t})})}},b=function(e){return function(t){console.log(e),h.post("http://localhost/phonebook/add",{name:e.name,phone:e.phone}).then(function(e){return t(m())})}},f=function(e){return function(t){console.log(e.id);h.post("http://localhost/phonebook/update",{id:e.id,name:e.name,phone:e.phone}).then(function(e){return t(m())})}},O=function(e){return function(t){var n="http://localhost/phonebook/delete/id="+e;h.get(n).then(function(e){return t(m())})}},E=function(e,t,n){return function(a){a({type:"ACTION_SHOW_MODAL_EDIT",payload:{event:e,id:t,records:n}})}},g=function(e){return function(t){return t({type:"ACTION_SHOW_MODAL_NEW",payload:e})}},w=function(e){return{type:"ACTION_CHANGE_NAME",payload:e}},j=function(e){return{type:"ACTION_CHANGE_PHONE",payload:e}},N=n(16),y=n(15),C=n(52),v=n.n(C),M=n(64),A=n.n(M),S=n(65),k=n.n(S),_=n(40),I=n.n(_),T=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.record,n=t.id,a=t.name,r=t.phone,c=t.showModalEditState,i=this.props.classes;return o.a.createElement(I.a,null,o.a.createElement(v.a,{className:i.root},o.a.createElement(A.a,{button:!0,onClick:function(){e.props.showModalEdit(!c,n)}},o.a.createElement(k.a,{primary:a+", phone: "+r}))))}}]),t}(a.Component),x=Object(d.b)(function(e){return{showModalEditState:e.showModalEditState,id:e.id,name:e.name,phone:e.phone}},function(e){return{showModalEdit:Object(N.bindActionCreators)(E,e)}})(Object(y.withStyles)(function(e){return{root:{margin:2*e.spacing.unit,backgroundColor:e.palette.background.paper}}})(T)),D=n(20),H=n.n(D),L=n(30),R=n.n(L),W=n(42),F=n.n(W),G=n(32),V=n.n(G),J=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.name,r=t.phone,c=t.classes;return o.a.createElement("form",{className:c.root},o.a.createElement(V.a,null,"Edit code for ",a),o.a.createElement(F.a,null,o.a.createElement(R.a,{label:"NAME",type:"text",className:c.textField,value:a,onChange:function(t){return e.props.onchangename(t.target.value)}}),o.a.createElement(R.a,{label:"number",type:"text",className:c.textField,value:r,onChange:function(t){return e.props.onchangephone(t.target.value)}})),o.a.createElement(H.a,{className:c.button,onClick:function(){e.props.showModalEdit(!1,"")},variant:"contained"},"Close"),o.a.createElement(H.a,{className:c.button,onClick:function(){e.props.delete(n),e.props.showModalEdit(!1,"")},variant:"contained",color:"secondary"},"Delete"),o.a.createElement(H.a,{className:c.button,onClick:function(){e.props.update(e.props),e.props.showModalEdit(!1,"")},variant:"contained",color:"primary"},"Save"))}}]),t}(a.Component),P=Object(d.b)(function(e){return{id:e.id,name:e.name,phone:e.phone}},function(e){return{showModalEdit:Object(N.bindActionCreators)(E,e),delete:Object(N.bindActionCreators)(O,e),update:Object(N.bindActionCreators)(f,e),onchangename:Object(N.bindActionCreators)(w,e),onchangephone:Object(N.bindActionCreators)(j,e)}})(Object(y.withStyles)(function(e){return{root:{width:"100%",margin:3*e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120},label:{marginLeft:3*e.spacing.unit},button:{margin:3*e.spacing.unit},textField:{marginTop:3*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:e.spacing.unit,width:200}}})(J)),z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("form",{className:t.root},o.a.createElement(V.a,null,"Add new record"),o.a.createElement(F.a,null,o.a.createElement(R.a,{label:"Name",type:"text",className:t.textField,onChange:function(t){return e.props.onchangename(t.target.value)}}),o.a.createElement(R.a,{label:"Number",type:"text",className:t.textField,onChange:function(t){return e.props.onchangephone(t.target.value)}})),o.a.createElement(H.a,{className:t.button,onClick:function(){e.props.showModalNew(!1)},variant:"contained"},"Close"),o.a.createElement(H.a,{className:t.button,onClick:function(){e.props.showModalNew(!1),e.props.add(e.props),console.log("this props",e.props.name)},variant:"contained",color:"primary"},"Save"))}}]),t}(a.Component),B=Object(d.b)(function(e){return{showModalNewState:e.showModalNewState,name:e.name,phone:e.phone}},function(e){return{showModalNew:Object(N.bindActionCreators)(g,e),add:Object(N.bindActionCreators)(b,e),onchangename:Object(N.bindActionCreators)(w,e),onchangephone:Object(N.bindActionCreators)(j,e)}})(Object(y.withStyles)(function(e){return{root:{width:"100%",margin:3*e.spacing.unit},formControl:{margin:e.spacing.unit,minWidth:120},label:{marginLeft:3*e.spacing.unit},button:{margin:3*e.spacing.unit},textField:{marginTop:3*e.spacing.unit,marginLeft:3*e.spacing.unit,marginRight:e.spacing.unit,width:200}}})(z)),X=n(53),q=n.n(X),K=n(66),Q=n.n(K),U=n(152),Y=n.n(U),Z=n(151),$=n(148),ee=n(149),te=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleReadCSV=function(e){e.data.map(function(e){return n.props.addRec({name:e[1],phone:e[2]})})},n.handleOnError=function(e,t,n,a){console.log(e)},n.handleImportOffer=function(){n.fileInput.current.click()},n.fileInput=o.a.createRef(),n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.records);var t=this.props.classes,n=this.props.records.map(function(e){return o.a.createElement(x,{key:e.id,record:e})});return o.a.createElement(Z.a,{className:t.root},o.a.createElement(Q.a,{color:"primary","aria-label":"Add",className:t.fab,onClick:function(){e.props.showModalNew(!0)}},o.a.createElement(Y.a,null)),o.a.createElement(H.a,{variant:"contained",color:"primary",className:t.button},o.a.createElement($.CSVLink,{style:{textDecoration:"none",color:"white"},data:this.props.records,filename:"phonebook.csv",className:"btn btn-primary"},"Download File")),o.a.createElement(ee.a,{onFileLoaded:this.handleReadCSV,inputRef:this.fileInput,style:{display:"none"},onError:this.handleOnError}),o.a.createElement(H.a,{variant:"contained",color:"primary",className:t.button,onClick:this.handleImportOffer},"Import"),o.a.createElement(q.a,{open:this.props.showModalEditState},o.a.createElement(P,null)),o.a.createElement(q.a,{open:this.props.showModalNewState},o.a.createElement(B,null)),n)}}]),t}(a.Component),ne=Object(d.b)(function(e){return{records:e.records,showModalEditState:e.showModalEditState,showModalNewState:e.showModalNewState}},function(e){return{showModalNew:function(t){return e(g(t))},addRec:function(t){return e(b(t))}}})(Object(y.withStyles)(function(e){return{root:{},fab:{position:"absolute",top:70*e.spacing.unit,left:40*e.spacing.unit,zIndex:999}}})(te)),ae=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.ongetRecs()}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(ne,null))}}]),t}(a.Component),oe=Object(d.b)(function(e){return{records:e.records}},function(e){return{ongetRecs:function(){return e(m())}}})(Object(y.withStyles)(function(e){return{root:{width:"400px",height:"600px",marginTop:3*e.spacing.unit,overflowX:"auto"}}})(ae)),re=n(153),ce=n(33),ie={records:[],showModalEditState:!1,showModalNewState:!1,id:"",name:"",phone:""},le=n(154),se=Object(N.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTION_GET":return Object(ce.a)({},e,{records:t.payload});case"ACTION_SHOW_MODAL_EDIT":if(!0!==t.payload.event)return Object(ce.a)({},e,{showModalEditState:t.payload.event,name:"",phone:""});for(var n=0;n<e.records.length;n++){var a=e.records.indexOf(e.records[n]);if(e.records[n].id===t.payload.id)return Object(ce.a)({},e,{showModalEditState:t.payload.event,id:e.records[a].id,name:e.records[a].name,phone:e.records[a].phone})}break;case"ACTION_SHOW_MODAL_NEW":return Object(ce.a)({},e,{showModalNewState:t.payload});case"ACTION_CHANGE_NAME":return Object(ce.a)({},e,{name:t.payload});case"ACTION_CHANGE_PHONE":return Object(ce.a)({},e,{phone:t.payload});default:return e}},Object(le.composeWithDevTools)(Object(N.applyMiddleware)(re.a)));c.a.render(o.a.createElement(d.a,{store:se},o.a.createElement(oe,null)),document.getElementById("root"))}},[[232,2,1]]]);
//# sourceMappingURL=main.2170d6d9.chunk.js.map